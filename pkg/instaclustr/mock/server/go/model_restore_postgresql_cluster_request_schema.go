/*
 * Instaclustr API Documentation
 *
 *
 *
 * API version: Current
 * Generated by: OpenAPI Generator (https://openapi-generator.tech)
 */

package openapi

import (
	"errors"
)

type RestorePostgresqlClusterRequestSchema struct {

	// The display name of the restored cluster.<br><br>By default, the restored cluster will be created with its current name appended with “restored” and the date & time it was requested to be restored.
	ClusterNameOverride string `json:"clusterNameOverride,omitempty"`

	// An optional list of Cluster Data Centres for which custom VPC settings will be used.<br><br>This property must be populated for all Cluster Data Centres or none at all.
	CdcInfos []RestoreCdcInfoSchema `json:"cdcInfos,omitempty"`

	// Timestamp in milliseconds since epoch. All backed up data will be restored for this point in time.<br><br>Defaults to 6 minutes from request submission. You cannot specify a time within last 6 minutes due to wal log backups are every 5 minutes.
	PointInTime int64 `json:"pointInTime,omitempty"`
}

// AssertRestorePostgresqlClusterRequestSchemaRequired checks if the required fields are not zero-ed
func AssertRestorePostgresqlClusterRequestSchemaRequired(obj RestorePostgresqlClusterRequestSchema) error {
	for _, el := range obj.CdcInfos {
		if err := AssertRestoreCdcInfoSchemaRequired(el); err != nil {
			return err
		}
	}
	return nil
}

// AssertRestorePostgresqlClusterRequestSchemaConstraints checks if the values respects the defined constraints
func AssertRestorePostgresqlClusterRequestSchemaConstraints(obj RestorePostgresqlClusterRequestSchema) error {
	if obj.PointInTime < 1420070400000 {
		return &ParsingError{Err: errors.New(errMsgMinValueConstraint)}
	}
	return nil
}
